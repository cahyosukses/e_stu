var DEMO_CURRENT_THEME = "default";
var DEMO_CURRENT_LAYOUT = "default";
var DEMO_ADMINFLARE_VERSION = "1.3.0";

function get_local(name) {
	var result = '';
	
	if (typeof(localStorage) != 'undefined') {
		if (typeof(localStorage[name]) == 'undefined') {
			if (name == 'view_type') {
				localStorage[name] = 'list';
			} else {
				localStorage[name] = '';
			}
		}
		
		result = localStorage[name];
	}
	
	return result;
}

function set_local(name, value) {
	if (typeof(localStorage) != 'undefined') {
		localStorage[name] = value;
	}
}

function set_my_theme() {
	var layout = get_local('current_layout');
	var current_theme = get_local('current_theme');
	
	// set default
	if (layout == '') {
		layout = 'default';
	}
	if (current_theme == '') {
		current_theme = 'default';
	}
	
	// css file
	$('#bootstrap-css').attr('href', web.base + 'static/css/' + DEMO_ADMINFLARE_VERSION + '/' + current_theme + '/bootstrap.min.css');
	$('#adminflare-css').attr('href', web.base + 'static/css/' + DEMO_ADMINFLARE_VERSION + '/' + current_theme + '/adminflare.min.css');
	
	// css body
	$('body').attr('class', layout + '-layout')
}

if (!Array.prototype.indexOf) {
	Array.prototype.indexOf=function(c,d){
		for(var b=(d||0),a=this.length;b<a;b++){if(this[b]===c){return b}}return -1
	}
}

var demoTestThemeName = function(a) {
	if (!a||a===""||["default","cyan","green","orange","red","black-blue","black-cyan","black-green","black-orange","black-red","black-pink"].indexOf(a)===-1) {
		return "default";
	}
	
	// override
	var a = get_local('current_theme');
	if (a == '') {
		a = 'default';
	}
	
	return a
},

demoTestLayoutName = function(a){
	if (!a||a===""||["default","centered","fluid"].indexOf(a)===-1){
		return"default"
	}
	
	// override
	var a = get_local('current_layout');
	if (a == '') {
		a = 'default';
	}
	
	return a
},

demoGetCookieSettings=function(){
	var b,a,d,c = document.cookie.split(";");
	for (b=0;b<c.length;b++) {
		a=c[b].substr(0,c[b].indexOf("="));
		d=c[b].substr(c[b].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");
		if (a === "current_theme") {
			DEMO_CURRENT_THEME = demoTestThemeName(unescape(d))
		} else {
			if (a === "current_layout") {
				DEMO_CURRENT_LAYOUT = demoTestLayoutName(unescape(d))
			}
		}
	}
	
	return"default"
},

demoSetCookieSettings=function() {
	document.cookie = "current_theme="+escape(DEMO_CURRENT_THEME);
	document.cookie = "current_layout="+escape(DEMO_CURRENT_LAYOUT);
},
demoCapitaliseFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},
demoGetColor=function(a){return(a==="default"||a==="black-blue")?"blue":((a==="cyan"||a==="black-cyan")?"cyan":((a==="green"||a==="black-green")?"green":((a==="orange"||a==="black-orange")?"orange":((a==="red"||a==="black-red")?"red":"pink"))))},
demoSetBodyLayout=function() {
	return;
	
	set_my_theme();
	
	// var a = document.getElementsByTagName("body")[0].getAttribute("class")||"";
	// document.getElementsByTagName("body")[0].setAttribute("class",a+" "+DEMO_CURRENT_LAYOUT+"-layout")
};
demoGetCookieSettings();